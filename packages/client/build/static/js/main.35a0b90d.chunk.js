(this["webpackJsonp@reapers/client"]=this["webpackJsonp@reapers/client"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(48),s=n.n(o),u=(n(61),n(19)),i=n(12),l=n(18),j=n(2),d=n(49),b=n.n(d),h=n(1),p=function(e){return Object(h.jsx)("button",{className:b.a.button,onClick:e.onClick,children:e.children})},m=n(50),f=n.n(m),v=function(e){return Object(h.jsx)("div",{className:f.a.card,children:e.children})},O=n(51),x=n.n(O),C=function(e){var t="calc(".concat(e.width||1,"*100%");return Object(h.jsx)("div",{className:"".concat(x.a.container," ").concat(e.className),style:{width:t},children:e.children})},_=n(52),y=n.n(_),g=function(e){return e.error?Object(h.jsx)(C,{children:Object(h.jsx)("p",{className:y.a.error,children:e.error})}):null},N=n(53),E=n.n(N),k=function(e){return Object(h.jsx)("input",{className:E.a.input,placeholder:e.placeholder,value:e.value,onChange:function(t){return e.onChange(t.target.value)}})},M=c.a.createContext({player:{name:""},setPlayerName:function(e){return console.warn("setPlayerName is not set")}}),w=n(28),P=n.n(w),S=function(){var e=Object(j.g)(),t=Object(r.useContext)(M),n=Object(r.useState)(t.player.name),a=Object(i.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(""),u=Object(i.a)(s,2),l=u[0],d=u[1];return Object(h.jsxs)("div",{className:P.a.container,children:[Object(h.jsx)("div",{className:P.a.background}),Object(h.jsx)(C,{width:1/3,children:Object(h.jsxs)(v,{children:[Object(h.jsx)(k,{placeholder:"Name",value:c,onChange:function(e){o(e),d("")}}),Object(h.jsx)(g,{error:l}),Object(h.jsx)(p,{onClick:function(){String(c).length>0?(t.setPlayerName(c),e.push(L.play.path)):d("A name is required")},children:"Play"})]})})]})},R=n(31);!function(e){e.Enter="Enter"}(a||(a={}));var H={url:"ws://localhost:4002"},A=n(55),G=n.n(A),B=function(e){var t=Object(r.useState)(R.ChatRoom.General),n=Object(i.a)(t,2),c=n[0],o=(n[1],Object(r.useState)("")),s=Object(i.a)(o,2),u=s[0],l=s[1],j=Object(r.useRef)(null),d=Object(R.useChat)(H.url),b=d.joinChat,p=d.messages,m=d.sendMessage;Object(r.useEffect)((function(){b(e.playerName)}),[b,e.playerName]);var f=Object(r.useCallback)((function(e){var t,n;e.key===a.Enter&&(document.activeElement===j.current?u.length?(m(c,u),l("")):null===(t=j.current)||void 0===t||t.blur():null===(n=j.current)||void 0===n||n.focus())}),[u,m,c]);return Object(r.useEffect)((function(){return window.addEventListener("keyup",f),function(){window.removeEventListener("keyup",f)}}),[f]),Object(h.jsxs)("div",{className:G.a.chat,children:[p.map((function(e,t){return Object(h.jsx)("p",{children:e},t)})),Object(h.jsx)("input",{ref:j,value:u,onChange:function(e){return l(e.target.value)}})]})},D=n(56),J=n.n(D),L={home:{path:"/",label:"Home",component:S,exact:!0},play:{path:"/play",label:"Play",component:function(){var e=Object(r.useContext)(M);return String(e.player.name).length?Object(h.jsx)("div",{className:J.a.play,children:Object(h.jsx)(B,{playerName:e.player.name})}):Object(h.jsx)(j.a,{to:L.home.path})},exact:!0,isHidden:!0}},T=Object.values(L).filter((function(e){return!e.isHidden})),W=function(){var e=Object(r.useContext)(M),t=Object(r.useState)(e.player.name),n=Object(i.a)(t,2),a=n[0],o=n[1];return Object(h.jsx)(M.Provider,{value:Object(u.a)(Object(u.a)({},e),{},{player:{name:a},setPlayerName:o}),children:Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{className:"app-main-nav",children:T.map((function(e,t){return Object(h.jsx)(l.b,{to:e.path,exact:e.exact,activeClassName:"is-active",className:"menu-item",children:e.label},t)}))}),Object(h.jsx)("div",{className:"page-container",children:Object(h.jsxs)(j.d,{children:[Object.values(L).map((function(e,t){return Object(h.jsx)(j.b,{path:e.path,exact:e.exact,render:function(n){return c.a.createElement(e.component,Object(u.a)(Object(u.a)({},n),{},{key:t}))}},t)})),Object(h.jsx)(j.b,{path:"*",children:Object(h.jsx)(j.a,{to:L.home.path})})]})})]})})})};s.a.render(Object(h.jsx)(W,{}),document.getElementById("root"))},28:function(e,t,n){e.exports={container:"home_container__2nOOD",background:"home_background__1TAs5"}},31:function(e,t,n){"use strict";var a=n(34),r=n(70),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatRoom=t.useChat=void 0;var o=n(74);Object.defineProperty(t,"ChatRoom",{enumerable:!0,get:function(){return o.ChatRoom}});var s=n(75),u=c(n(78));t.useChat=function(e){var t=s.useState([]),n=r(t,2),c=n[0],i=n[1],l=s.useRef();s.useEffect((function(){return l.current=u.default(e),l.current.on(o.ChatEvent.Message.Created,(function(e){i((function(t){return[].concat(a(t),[e])}))})),function(){var e;null===(e=l.current)||void 0===e||e.disconnect()}}),[]);return{joinChat:function(e){var t;null===(t=l.current)||void 0===t||t.emit(o.ChatEvent.Member.Created,e)},messages:c,sendMessage:function(e,t){var n;null===(n=l.current)||void 0===n||n.emit(o.ChatEvent.Message.Created,e,t)}}}},49:function(e,t,n){e.exports={button:"button_button__EbKHa"}},50:function(e,t,n){e.exports={card:"card_card__1ygZj"}},51:function(e,t,n){e.exports={container:"container_container__3zG2B"}},52:function(e,t,n){e.exports={error:"error_error__3Wkv1"}},53:function(e,t,n){e.exports={input:"input_input__2kHed"}},55:function(e,t,n){e.exports={chat:"chat_chat__3k4Sn"}},56:function(e,t,n){e.exports={play:"play_play__k6vWY"}},61:function(e,t,n){},74:function(e,t,n){"use strict";var a,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ChatRoom=t.ChatEvent=void 0,function(e){e.Created="MessageEvent.Created"}(a||(a={})),function(e){e.Created="MemberEvent.Created"}(r||(r={}));var c,o={Message:a,Member:r};t.ChatEvent=o,function(e){e.General="general",e.Trading="trading"}(c||(c={})),t.ChatRoom=c}},[[105,1,2]]]);
//# sourceMappingURL=main.35a0b90d.chunk.js.map